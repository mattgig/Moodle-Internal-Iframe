{"key":"miframe","name":"Moodle Iframe","instructions":"Adresse einer Moodleseite verwenden, um ein Iframe einzubinden","requirecss":"","requirejs":"","shim":"","defaults":"height = 800\n","amd":"1","body":"<div><iframe id=\"@@AUTOID@@\" src=\"@@URL@@\" width=100% height=@@height@@px allowfullscreen style=\"resize: vertical\"></iframe>\n<p><button class=\"btn btn-primary\" onclick=\"fullScreenToggle('@@AUTOID@@')\">Vollbildmodus</button></p></div>\n\n\n<script>\n\ndocument.querySelector(\"#@@AUTOID@@\").addEventListener( \"load\", function(event) {\n    var iframe = document.getElementById(\"@@AUTOID@@\");\n    tags = [\"nav.fixed-top\",\"header\",\"#nav-drawer\",\"#group_menu\",\"blocks-column\",\".activity-navigation\",\"footer\"]  \n    tags.forEach(hideElement);\n    function hideElement(item)\n      {\n      var element = iframe.contentWindow.document.querySelector(item);\n      if (element) element.style.display = \"none\";\n      }   \n} );\n\nfunction fullScreenToggle(idOfElement)\n  {\n  var elem = document.getElementById(idOfElement);\n  if (elem.requestFullscreen) {\n    elem.requestFullscreen();\n  }\n}\n\n</script>\n","bodyend":"","script":"","style":"","dataset":"","datasetvars":"","alternate":"","alternateend":"","version":"0.1"}